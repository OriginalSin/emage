define(["require","qpf"],function(e){var t=e("qpf"),n=t.use("core/clazz"),r=t.use("components/container/window"),i=t.use("components/container/container"),s=t.use("components/container/inline"),o=t.use("components/meta/button"),u=t.use("knockout"),a=new r({attributes:{"class":"qpf-modal"}}),f=new i,l=new s,c=new o({attributes:{text:"确 定"}}),h=new o({attributes:{text:"取 消"}});a.add(f),a.add(l),l.add(c),l.add(h),a.render(),document.body.appendChild(a.$el[0]);var p=$('<div class="qpf-mask"></div>');document.body.appendChild(p[0]),a.$el.hide(),p.hide();var d=n.derive(function(){return{title:"",body:null,onApply:function(e){e()},onCancel:function(e){e()}}},{show:function(){var e=this;a.title(this.title),f.removeAll(),this.body&&f.add(this.body),c.off("click"),h.off("click"),c.on("click",function(){e.onApply(e.hide)}),h.on("click",function(){e.onCancel(e.hide)}),a.$el.show(),p.show(),a.left(($(window).width()-a.$el.width())/2),a.top(($(window).height()-a.$el.height())/2-100)},hide:function(){a.$el.hide(),p.hide()}});return d.popup=function(e,t,n,r){var i=new d({title:e,body:t,onApply:n||function(e){e()},onCancel:r||function(e){e()}});i.body.render(),i.show()},d.confirm=function(e,t,n,r){var i=new d({title:e,body:new Label({attributes:{text:t},temporary:!0}),onApply:n||function(e){e()},onCancel:r||function(e){e()}});i.body.render(),i.show()},d});