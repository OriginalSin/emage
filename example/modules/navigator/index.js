define(["require","qpf","../module","text!./navigator.xml","./navlink","../viewport/index","../router"],function(e){function l(){function n(){console.log(arguments)}var e=o.texture;f=document.createElement("video"),e.minFilter=THREE.LinearFilter,e.magFilter=THREE.LinearFilter,e.image=f,e.generateMipmaps=!1,o.on("beforerender",function(){e.needsUpdate=!0});var t={video:!0};navigator.getUserMedia?navigator.getUserMedia(t,function(e){f.src=e,f.play()},n):navigator.webkitGetUserMedia&&navigator.webkitGetUserMedia(t,function(e){f.src=window.webkitURL.createObjectURL(e),f.play()},n)}var t=e("qpf"),n=t.use("knockout"),r=e("../module"),i=e("text!./navigator.xml"),s=e("./navlink"),o=e("../viewport/index"),u=e("../router"),a=new r({name:"navigator",xml:i});a.$el.delegate(".qpf-ui-navlink","click",function(){var e=$(this),t=e.qpf("get")[0];if(t)switch(t.icon()){case"camera":l();break;case"cloud":switchToCloud()}a.$el.find(".qpf-ui-navlink").removeClass("active"),e.addClass("active")});var f;return a});