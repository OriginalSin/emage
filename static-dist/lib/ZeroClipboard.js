/*!
 * zeroclipboard
 * The Zero Clipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie, and a JavaScript interface.
 * Copyright 2012 Jon Rohan, James M. Greene, .
 * Released under the MIT license
 * http://jonrohan.github.com/ZeroClipboard/
 * v1.1.6
 */

(function(){var e=function(e,t){var n=e.style[t];e.currentStyle?n=e.currentStyle[t]:window.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t));if(n=="auto"&&t=="cursor"){var r=["a"];for(var i=0;i<r.length;i++)if(e.tagName.toLowerCase()==r[i])return"pointer"}return n},t=function(e){e||(e=window.event);var t;this!==window?t=this:e.target?t=e.target:e.srcElement&&(t=e.srcElement),l.prototype._singleton.setCurrent(t)},n=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},r=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},i=function(e,t){if(e.addClass)return e.addClass(t),e;if(t&&typeof t=="string"){var n=(t||"").split(/\s+/);if(e.nodeType===1)if(!e.className)e.className=t;else{var r=" "+e.className+" ",i=e.className;for(var s=0,o=n.length;s<o;s++)r.indexOf(" "+n[s]+" ")<0&&(i+=" "+n[s]);e.className=i.replace(/^\s+|\s+$/g,"")}}return e},s=function(e,t){if(e.removeClass)return e.removeClass(t),e;if(t&&typeof t=="string"||t===undefined){var n=(t||"").split(/\s+/);if(e.nodeType===1&&e.className)if(t){var r=(" "+e.className+" ").replace(/[\n\t]/g," ");for(var i=0,s=n.length;i<s;i++)r=r.replace(" "+n[i]+" "," ");e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},o=function(t){var n={left:0,top:0,width:t.width||t.offsetWidth||0,height:t.height||t.offsetHeight||0,zIndex:9999},r=e(t,"zIndex");r&&r!="auto"&&(n.zIndex=parseInt(r,10));while(t){var i=parseInt(e(t,"borderLeftWidth"),10),s=parseInt(e(t,"borderTopWidth"),10);n.left+=isNaN(t.offsetLeft)?0:t.offsetLeft,n.left+=isNaN(i)?0:i,n.top+=isNaN(t.offsetTop)?0:t.offsetTop,n.top+=isNaN(s)?0:s,t=t.offsetParent}return n},u=function(e){return(e.indexOf("?")>=0?"&":"?")+"nocache="+(new Date).getTime()},a=function(){var e=[];return l._trustedDomain&&e.push("trustedDomain="+l._trustedDomain),e.join("&")},f=function(e,t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},l=function(e){e&&(l.prototype._singleton||this).glue(e);if(l.prototype._singleton)return l.prototype._singleton;l.prototype._singleton=this,this.handlers={},this._text=null,l.detectFlashSupport()&&this.bridge()},c,h=[];l.prototype.setCurrent=function(t){c=t,this.reposition(),this.setText(this._text||t.getAttribute("data-clipboard-text")),t.getAttribute("title")&&this.setTitle(t.getAttribute("title")),this.setHandCursor(e(t,"cursor")=="pointer")},l.prototype.setText=function(e){e&&e!==""&&(this._text=e,this.ready()&&this.flashBridge.setText(e))},l.prototype.resetText=function(){this._text=null},l.prototype.setTitle=function(e){e&&e!==""&&this.htmlBridge.setAttribute("title",e)},l.prototype.setSize=function(e,t){this.ready()&&this.flashBridge.setSize(e,t)},l.prototype.setHandCursor=function(e){this.ready()&&this.flashBridge.setHandCursor(e)},l.version="1.1.6",l._moviePath="ZeroClipboard.swf",l.setMoviePath=function(e){this._moviePath=e},l.setTrustedDomain=function(e){this._trustedDomain=e},l.destroy=function(){var e=document.getElementById("global-zeroclipboard-html-bridge");if(!e)return;l.prototype._singleton.unglue(h),delete l.prototype._singleton,delete l._trustedDomain,l._moviePath="ZeroClipboard.swf",e.parentNode.removeChild(e)},l.detectFlashSupport=function(){var e=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0)}return e},l.prototype.bridge=function(){this.htmlBridge=document.getElementById("global-zeroclipboard-html-bridge");if(this.htmlBridge){this.flashBridge=document["global-zeroclipboard-flash-bridge"];return}var e='    <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">       <param name="movie" value="'+l._moviePath+u(l._moviePath)+'"/>       <param name="allowScriptAccess" value="always" />       <param name="scale" value="exactfit">       <param name="loop" value="false" />       <param name="menu" value="false" />       <param name="quality" value="best" />       <param name="bgcolor" value="#ffffff" />       <param name="wmode" value="transparent"/>       <param name="flashvars" value="'+a()+'"/>       <embed src="'+l._moviePath+u(l._moviePath)+'"         loop="false" menu="false"         quality="best" bgcolor="#ffffff"         width="100%" height="100%"         name="global-zeroclipboard-flash-bridge"         allowScriptAccess="always"         allowFullScreen="false"         type="application/x-shockwave-flash"         wmode="transparent"         pluginspage="http://www.macromedia.com/go/getflashplayer"         flashvars="'+a()+'"         scale="exactfit">       </embed>     </object>';this.htmlBridge=document.createElement("div"),this.htmlBridge.id="global-zeroclipboard-html-bridge",this.htmlBridge.setAttribute("class","global-zeroclipboard-container"),this.htmlBridge.setAttribute("data-clipboard-ready",!1),this.htmlBridge.style.position="absolute",this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.style.width="15px",this.htmlBridge.style.height="15px",this.htmlBridge.style.zIndex="9999",this.htmlBridge.innerHTML=e,document.body.appendChild(this.htmlBridge),this.flashBridge=document["global-zeroclipboard-flash-bridge"]},l.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),s(c,"zeroclipboard-is-active"),c=null},l.prototype.ready=function(){var e=this.htmlBridge.getAttribute("data-clipboard-ready");return e==="true"||e===!0},l.prototype.reposition=function(){if(!c)return!1;var e=o(c);this.htmlBridge.style.top=e.top+"px",this.htmlBridge.style.left=e.left+"px",this.htmlBridge.style.width=e.width+"px",this.htmlBridge.style.height=e.height+"px",this.htmlBridge.style.zIndex=e.zIndex+1,this.setSize(e.width,e.height)},l.dispatch=function(e,t){l.prototype._singleton.receiveEvent(e,t)},l.prototype.on=function(e,t){var n=e.toString().split(/\s/g);for(var r=0;r<n.length;r++)e=n[r].toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=t);this.handlers.noflash&&!l.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)},l.prototype.addEventListener=function(e,t){this.on(e,t)},l.prototype.receiveEvent=function(e,t){e=e.toString().toLowerCase().replace(/^on/,"");var n=c;switch(e){case"load":if(t&&parseFloat(t.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10){this.receiveEvent("onWrongFlash",{flashVersion:t.flashVersion});return}this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":i(n,"zeroclipboard-is-hover");break;case"mouseout":s(n,"zeroclipboard-is-hover"),this.resetBridge();break;case"mousedown":i(n,"zeroclipboard-is-active");break;case"mouseup":s(n,"zeroclipboard-is-active");break;case"complete":this.resetText()}if(this.handlers[e]){var r=this.handlers[e];typeof r=="function"?r.call(n,this,t):typeof r=="string"&&window[r].call(n,this,t)}},l.prototype.glue=function(e){if(typeof e=="string")throw new TypeError("ZeroClipboard doesn't accept query strings.");e.length||(e=[e]);for(var r=0;r<e.length;r++)f(e[r],h)==-1&&(h.push(e[r]),n(e[r],"mouseover",t))},l.prototype.unglue=function(e){if(typeof e=="string")throw new TypeError("ZeroClipboard doesn't accept query strings.");e.length||(e=[e]);for(var n=0;n<e.length;n++){r(e[n],"mouseover",t);var i=f(e[n],h);i!=-1&&h.splice(i,1)}},typeof module!="undefined"?module.exports=l:window.ZeroClipboard=l})();