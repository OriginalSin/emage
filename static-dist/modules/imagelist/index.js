define(["require","qpf","../module","text!./imagelist.xml","../common/list","./imageitem","../viewport/index"],function(e){function p(){l=Math.max(0,l-1),a.images(f.slice(l*c,Math.min(f.length,(l+1)*c)))}function d(){l=Math.min(l+1,h),a.images(f.slice(l*c,Math.min(f.length,(l+1)*c)))}var t=e("qpf"),n=t.use("knockout"),r=e("../module"),i=e("text!./imagelist.xml"),s=e("../common/list"),o=e("./imageitem"),u=e("../viewport/index"),a=new r({name:"imagelist",xml:i,images:n.observableArray(),ImageItem:o}),f,l=0,c=5,h;return $.get("../file_upload/list.json",function(e){f=e,h=Math.floor(f.length/c-1e-5),a.images(f.slice(0,c))}),a.$el.delegate(".qpf-ui-image-item","click",function(){u.setImage($(this).qpf("get")[0].url())}).delegate(".button-left","click",p).delegate(".button-right","click",d),a});